<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/style-tracker.css">
    <title>Tracker</title>
</head>

<body>
    <header class="container text-center mt-5">
        <a class="fs-4" href="index.html">Home</a>
    </header>

    <main class="container mt-5">
        <section>
            <h4 class="text-center fw-bold">Expense Tracker</h4>
            <div class="tracker__card mx-auto shadow-lg mt-5">
                <div class="">
                    <div class="fw-bold fs-5 text-uppercase">Your Balance</div>
                    <div id="balance" class="fw-bold">Rp 0</div>
                </div>
                <div class="">
                    <div id="income"></div>
                    <div id="expense"></div>
                </div>
                <div class="">
                    <div class="fw-bold fs-5">History</div>
                    <hr>
                    <div id="history"></div>
                </div>
                <div class="">
                    <div class="fw-bold fs-5">New transaction</div>
                </div>
                <form id="trackerForm" action="#" onsubmit="handleSubmit(event)">
                    <input type="text" name="transactionDetail" id="transactionDetail" placeholder="Enter details..">
                    <input type="number" name="amount" id="amount" placeholder="Enter amount..">
                    <input type="submit" value="Add transaction">
                </form>
            </div>
        </section>
    </main>

    <script>
        let balance = 0
        let income = 0 
        let expense = 0

        const handleSubmit = (event) => {
            event.preventDefault()

            const form = document.getElementById('trackerForm')
            const history = document.getElementById("history")
            const newBalance = document.getElementById("balance")
            const newIncome = document.getElementById("income")
            const newExpense = document.getElementById("expense")
            const transactionDetail = document.getElementById('transactionDetail').value
            const amount = parseInt(document.getElementById('amount').value)

            if(amount > 0 ) {
                income += amount
                newIncome.textContent = income
                console.log("income", income);
            }else{
                expense += amount
                newExpense.textContent = expense
                console.log("expense", expense);
            }

            balance += amount
            console.log(balance);
            newBalance.textContent = `Rp ${balance}`

            newHistory = document.createElement('div')
            newHistory.innerHTML = `${transactionDetail},,,,,,,,,,${amount}`
            history.appendChild(newHistory)

            form.reset()
        }
    </script>
</body>

</html>